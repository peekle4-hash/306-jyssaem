<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ì£¼ê°„ ë„ìš°ë¯¸</title>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<style>
body{font-family:Pretendard,sans-serif;background:#fef6fb;margin:0;padding:16px;}
h1{text-align:center;margin-bottom:10px;}
.top{background:#fff;padding:12px;border-radius:14px;box-shadow:0 4px 12px rgba(0,0,0,.05);display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between;}
input[type=date]{padding:6px 8px;border-radius:8px;border:1px solid #ddd;}
button{background:#ff80ab;color:#fff;border:none;padding:8px 12px;border-radius:10px;font-weight:bold;}
.container{margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:12px;}
@media(max-width:820px){.container{grid-template-columns:1fr;}}
.card{background:#fff;padding:14px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.05);}
.studentList{display:flex;flex-wrap:wrap;gap:6px;}
.student{background:#e3f2fd;padding:8px 10px;border-radius:12px;font-weight:bold;touch-action:none;}
.dropzone{background:#fffde7;min-height:40px;border-radius:12px;padding:6px;display:flex;flex-wrap:wrap;gap:6px;}
table{width:100%;border-collapse:collapse;}
th,td{border:1px solid #eee;padding:8px;font-size:14px;}
</style>
</head>
<body>
<h1>ğŸ©· ì£¼ê°„ ë„ìš°ë¯¸</h1>

<div class="top">
<div>ğŸ“… <input type="date" id="s"> ~ <input type="date" id="e"></div>
<button id="save">PNG ì €ì¥</button>
</div>

<div class="container">
<div class="card">
<h3>í•™ìƒ ëª…ë‹¨</h3>
<div class="studentList dropzone" id="pool" data-max="999">
<div class="student">1. í•™ìƒ1</div>
<div class="student">2. í•™ìƒ2</div>
<div class="student">3. í•™ìƒ3</div>
<div class="student">4. í•™ìƒ4</div>
<div class="student">5. í•™ìƒ5</div>
<div class="student">6. í•™ìƒ6</div>
<div class="student">7. í•™ìƒ7</div>
<div class="student">8. í•™ìƒ8</div>
<div class="student">9. í•™ìƒ9</div>
<div class="student">10. í•™ìƒ10</div>
<div class="student">11. í•™ìƒ11</div>
<div class="student">12. í•™ìƒ12</div>
<div class="student">13. í•™ìƒ13</div>
<div class="student">14. í•™ìƒ14</div>
<div class="student">15. í•™ìƒ15</div>
<div class="student">16. í•™ìƒ16</div>
<div class="student">17. í•™ìƒ17</div>
<div class="student">18. í•™ìƒ18</div>
</div>
</div>

<div class="card" id="capture">
<h3>ì—­í•  ë°°ì •í‘œ</h3>
<table>
<tr><th>ì´ë¦„</th><th>ì—­í• </th><th>ë‚´ìš©</th></tr>
<tr><td><div class="dropzone" data-max="1"></div></td><td>êµ¿ëª¨ë‹</td><td>ì¶œì„ë¶€, ì´ë™ìˆ˜ì—…, í™˜ê¸°</td></tr>
<tr><td><div class="dropzone" data-max="1"></div></td><td>êµ¿ë°”ì´</td><td>ì¶œì„ë¶€, ì „ì› ì¢…ë£Œ</td></tr>
<tr><td><div class="dropzone" data-max="2"></div></td><td>ì¹ íŒ</td><td>ë¶€ì°©ë¬¼, í‹€ ë‹¦ê¸°, ì§€ìš°ê°œ</td></tr>
<tr><td><div class="dropzone" data-max="1"></div></td><td>â˜…í™˜ê²½ë¶€ì¥</td><td>ì²­ê²° ê´€ë¦¬</td></tr>
</table>
</div>
</div>

<script>
let drag=null;
document.addEventListener('pointerdown',e=>{
  if(e.target.classList.contains('student')) drag=e.target;
});
document.addEventListener('pointerup',e=>{
  if(!drag) return;
  const zone=e.target.closest('.dropzone');
  if(zone){
    const max=parseInt(zone.dataset.max||1);
    if(zone.querySelectorAll('.student').length<max){
      zone.appendChild(drag);
    }
  }
  drag=null;
});
document.getElementById('save').onclick=async()=>{
  const canvas=await html2canvas(document.getElementById('capture'),{scale:2});
  const a=document.createElement('a');
  a.download='ì£¼ê°„ë„ìš°ë¯¸.png';
  a.href=canvas.toDataURL();
  a.click();
};
</script>
</body>
</html>